<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Awesome App Mockup Builder Machine</title>
  <link rel="stylesheet" href="css/styles.css">
  <!-- inject ios/android stylesheet dynamically -->

    <link rel="stylesheet" href="css/android.css">
  
  <!--
  <link rel="stylesheet" href="css/ios.css">
  -->
</head>

 
<body>

  <div id="background">
    <div id="scaler">

      <div id="header">
        <div class="table-wrap">
          <div class="table-cell">
            <h1 id="dynamicTitle">HEADER<BR>BLA</h1>
        </div>
        </div>
      </div>

      <div id="content">
        <img id="device" src="img/android.svg" />
        <div id="screen-content-holder">
          <div id="rel">
            <div id="inner-shadow"></div>
            <img id="statusbar" src="img/statusbar_android.png"/>
            <img id="pathImage" class="screenshot-image" src="img/local_placeholder.jpg" alt="image placeholder" />
          </div>
        </div>
      </div>

      </div>
  </div>
    


<script>

  //============================================================================================

  window.onload=function() {

    var filePath = getUrlParameter('filePath');
    var title = getUrlParameter('title');
    var device = getUrlParameter('device');

    if(filePath && title && device) {
      addStylesheet(device);
      document.getElementById("device").src = 'img/' + device + '.svg';
      document.getElementById("statusbar").src = 'img/statusbar_' + device + '.png';
      document.getElementById("pathImage").src = filePath;
      document.getElementById("dynamicTitle").innerText = title;
    }
    else {
      console.log('ERROR: NOT ALL QUERY PARAMS WHERE PROVIDED CORRECTLY.');
    }

  //============================================================================================

    function getUrlParameter(sParam) {
      var sPageURL = decodeURIComponent(window.location.search.substring(1)),
          sURLVariables = sPageURL.split('&'),
          sParameterName,
          i;
      for (i = 0; i < sURLVariables.length; i++) {
          sParameterName = sURLVariables[i].split('=');
          if (sParameterName[0] === sParam) {
              return sParameterName[1] === undefined ? true : sParameterName[1];
          }
      }
    };

  //============================================================================================

    function addStylesheet(device) {
      var head = document.head;
      var link = document.createElement("link");
      link.type = "text/css";
      link.rel = "stylesheet";
      link.href = "css/" + device + '.css';
      head.appendChild(link);
    }

  //============================================================================================

  }    

</script>

</body>
</html>